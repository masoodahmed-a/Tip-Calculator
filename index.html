<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Testing</title>
    <script src="https://cdn.tailwindcss.com"></script>
  </head>
  <body class="bg-purple-200 flex flex-col min-h-screen">
    <div
      class="bg-purple-800 m-auto p-10 text-white rounded-md w-96 text-center"
    >
      <h1 class="text-center text-3xl pb-5">Tip Calculator</h1>
      <h3 class="pb-2">Bill Total</h3>
      <input
        type="text"
        name=""
        id="billInput"
        class="rounded-lg bg-purple-700 p-2"
      />
      <h3 class="pb-2 mt-3">Tip</h3>
      <input
        type="text"
        name=""
        id="tipInput"
        class="rounded-lg bg-purple-700 mb-5 p-2"
      />
      <div class="flex justify-between items-center">
        <div class="left">
          <h3>People</h3>
          <div class="flex space-x-3 items-center">
            <button
              onclick="increase()"
              class="bg-purple-200 rounded-full px-2 py-1"
            >
              +
            </button>
            <h3 id="personText">0</h3>
            <button
              onclick="decrease()"
              class="bg-purple-200 rounded-full px-2 py-1"
            >
              -
            </button>
          </div>
        </div>

        <div class="right">
          <h3>Total Per Person</h3>
          <h3 id="totalText">1</h3>
        </div>
      </div>
    </div>
  </body>
  <script>
    let billInput = document.getElementById("billInput");
    let tipInput = document.getElementById("tipInput");
    let personText = document.getElementById("personText");
    let totalText = document.getElementById("totalText");

    let person = Number(personText.innerHTML);

    let calculate = () => {
      let billValue = Number(billInput.value);
      let tipValue = Number(tipInput.value);
      let tipPercentage = Number(tipValue / 100);
      let tipAmount = tipPercentage * billValue;
      let totalAmount = tipAmount + billValue;

      total = totalAmount / person;

      totalText.innerHTML = `$${total.toFixed(2)}`;

      // console.log("total");
    };

    let increase = () => {
      if (billInput.value == " ") {
        alert("Enter some value ");
      } else {
        person += 1;
        personText.innerHTML = person;
        calculate();
      }
    };

    let decrease = () => {
      if (person <= 1) {
        return;
      }
      person -= 1;
      personText.innerHTML = person;
      calculate();
    };

    billInput.value = " ";
    tipInput.value = " ";
    // personText = 0;
    totalText.innerHTML = "$0.00";
  </script>
</html>
